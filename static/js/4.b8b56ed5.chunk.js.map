{"version":3,"sources":["components/shared/name/name.jsx","components/shared/date/date.jsx","components/shared/name/name.module.css","components/shared/date/date.module.css","components/feature/dialogs/chat/chat.module.css","components/feature/dialogs/dialog/dialog.module.css","components/feature/dialogs/dialog/message/message.module.css","components/feature/dialogs/dialogs.module.css","components/feature/dialogs/chat/chat.jsx","components/feature/dialogs/dialog/message/message.jsx","components/feature/dialogs/dialog/dialog.jsx","components/feature/dialogs/dialogs.jsx","hoc/with-auth-redirect.js","components/feature/dialogs/dialogs-container.jsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_name_module_css__WEBPACK_IMPORTED_MODULE_1__","_name_module_css__WEBPACK_IMPORTED_MODULE_1___default","Name","props","a","createElement","className","style","name","fullName","_date_module_css__WEBPACK_IMPORTED_MODULE_1__","_date_module_css__WEBPACK_IMPORTED_MODULE_1___default","DateTime","date","dateTime","module","exports","chat","activ","content","info","message","dialog","header","title","interlocutor","list","form","text","tweet","dialogs","chats","descr","Chat","react_default","NavLink","activeClassName","to","concat","id","avatar","path","senderAvatar","size","name_name","firstName","lastName","Message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialog","messagesElements","messages","map","message_message","key","time","values","sendMessage","newMessageBody","Dialogs","dialogsElements","dialogsPage","chat_chat","lastMessage","updateNewMessageBody","mapStateToPropsRedirect","state","isAuth","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","_React$Component","Object","inherits","_super","createSuper","classCallCheck","this","apply","arguments","createClass","value","Redirect","React"],"mappings":"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","file":"static/js/4.b8b56ed5.chunk.js","sourcesContent":["import React from \"react\";\n\nimport style from './name.module.css';\n\nconst Name = (props) => {\n   return (\n      <span className={style.name}>{ props.fullName }</span>\n   );\n};\n\nexport default Name;","import React from \"react\";\n\nimport style from './date.module.css';\n\nconst DateTime = (props) => {\n   return (\n      <span className={style.date}>{ props.dateTime }</span>\n   );\n};\n\nexport default DateTime;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"name_name__2kJBL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"date\":\"date_date__1H5JU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"chat_chat__1l5fY\",\"activ\":\"chat_activ__u_WOU\",\"content\":\"chat_content__1kC4O\",\"info\":\"chat_info__2bD9p\",\"message\":\"chat_message__3OlB0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"dialog_dialog__1FUEM\",\"header\":\"dialog_header__1oKMh\",\"title\":\"dialog_title__1KClF\",\"interlocutor\":\"dialog_interlocutor__1MpC0\",\"list\":\"dialog_list__1UoF9\",\"form\":\"dialog_form__3AaVr\",\"text\":\"dialog_text__2mFCB\",\"tweet\":\"dialog_tweet__29Atd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__1LHq9\",\"content\":\"message_content__2IIS9\",\"info\":\"message_info__20Ga0\",\"text\":\"message_text__2xsaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__1Er9-\",\"chats\":\"dialogs_chats__2fH7P\",\"dialog\":\"dialogs_dialog__NgbLr\",\"title\":\"dialogs_title__Ki_im\",\"descr\":\"dialogs_descr__3_Hra\"};","import React from \"react\";\n\nimport Avatar from '../../../shared/avatar/avatar';\nimport Name from '../../../shared/name/name';\nimport DateTime from '../../../shared/date/date';\nimport style from './chat.module.css';\nimport { NavLink } from \"react-router-dom\";\n\nconst Chat = (props) => {\n   return (\n      <NavLink className={style.chat} activeClassName={style.activ} to={`/dialogs/${props.id}`}>\n         <Avatar path={props.senderAvatar} size={30} />\n            <div className={style.content}>\n               <div className={style.info}>\n                  <Name firstName={props.fullName.firstName} lastName={props.fullName.lastName} />\n                  <DateTime dateTime={props.dateTime} />\n               </div>\n               <p className={style.message}>{ props.message }</p>\n            </div>\n      </NavLink>\n   );\n};\n\nexport default Chat;","import React from \"react\";\nimport Name from \"../../../../shared/name/name\";\nimport Avatar from '../../../../shared/avatar/avatar';\nimport DateTime from '../../../../shared/date/date';\n\nimport style from './message.module.css';\n\nconst Message = (props) => {\n   return (\n      <div className={style.message}>\n         <Avatar path={props.senderAvatar} size={30} />\n         <div className={style.content}>\n            <div className={style.info}>\n               <Name firstName={props.fullName.firstName} lastName={props.fullName.lastName} />\n               <DateTime dateTime={props.dateTime} />\n            </div>\n            <p className={style.text}>{ props.message }</p>\n         </div>\n      </div>\n   );\n};\n\nexport default Message;","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport Name from \"../../../shared/name/name\";\nimport {Textarea} from \"../../../shared/forms-controls/form-controls\";\nimport { required, maxLengthCreator } from \"../../../../utils/validators/validators\";\n\nimport style from './dialog.module.css';\nimport Message from \"./message/message\";\n\nconst maxLength50 = maxLengthCreator(50);\n\nconst AddMessageForm = (props) => {\n\n   return (\n      <form onSubmit={props.handleSubmit} className={style.form}>\n         <Field component={Textarea} validate={[required, maxLength50]} name=\"newMessageBody\" placeholder=\"Напишите текс записи\" className={style.text} />\n         <button className={style.tweet}>Опубликовать</button>\n      </form>\n   );\n};\n\nconst Dialog = (props) => {\n\n   const addNewMessage = (values) => {\n      props.sendMessage(values.newMessageBody);\n   };\n\n   const messagesElements = props.messages.map(message => <Message key={message.id} fullName={message.fullName} message={message.message} dateTime={message.time} />);\n\n   return (\n      <div className={style.dialog}>\n         <div className={style.header}>\n            <h2 className={style.title}>\n               Диалог\n            </h2>\n            <span className={style.interlocutor}>\n               c <Name name=\"Елена Унгурян\" />\n            </span>\n         </div>\n         <div className={style.list}>\n            {messagesElements}\n         </div>\n         <AddMessageFormRedux onSubmit={addNewMessage} />\n      </div>\n   );\n};\n\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"}) (AddMessageForm);\n\nexport default Dialog;","import React from \"react\";\n// import { Route } from \"react-router-dom\";\nimport Chat from \"./chat/chat\";\nimport Dialog from \"./dialog/dialog\";\n\nimport style from './dialogs.module.css';\n\nconst Dialogs = (props) => {\n   const dialogsElements = props.dialogsPage.dialogs\n      .map(chat => <Chat key={chat.id} fullName={chat.fullName} message={chat.lastMessage} dateTime={chat.time} id={chat.id} />);\n\n   return (\n      <main className={style.dialogs}>\n         <div className={style.chats}>\n            <h2 className={style.title}>Сообщения</h2>\n            {dialogsElements}\n         </div>\n         <Dialog messages={props.dialogsPage.messages} updateNewMessageBody={props.updateNewMessageBody} sendMessage={props.sendMessage} newMessageBody={props.dialogsPage.newMessageBody} />\n      </main>\n   )\n};\n\nexport default Dialogs;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nconst mapStateToPropsRedirect = (state) => ({\n  isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />\n\n      return <Component {...this.props} />\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\n\n  return ConnectedAuthRedirectComponent;\n};","import {sendMessageCreator} from '../../../redux/dialogs-reducer';\nimport {connect} from 'react-redux';\n\nimport Dialogs from './dialogs';\nimport { withAuthRedirect } from '../../../hoc/with-auth-redirect';\nimport { compose } from 'redux';\n\nconst mapStateToProps = (state) => {\n   return {\n      dialogsPage: state.dialogsPage\n   }\n};\n\nconst mapDispathToProps = (dispatch) => {\n   return {\n      sendMessage: (newMessageBody) => {\n         dispatch(sendMessageCreator(newMessageBody));\n      }\n   }\n};\n\nexport default compose(connect(mapStateToProps, mapDispathToProps), withAuthRedirect) (Dialogs);"],"sourceRoot":""}